{"ast":null,"code":"import _slicedToArray from\"D:/gitProjects/smart-brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import react,{useState}from'react';import'../ImageLinkForm.css';import Modal from'react-modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var customStyles={content:{top:'50%',left:'50%',right:'auto',bottom:'auto',marginRight:'-50%',transform:'translate(-50%, -50%)'}};// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement(document.getElementById('root'));var ModifyEmail=function ModifyEmail(_ref){var user=_ref.user;var subtitle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalEmail=_useState2[0],setModalEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newEmail=_useState4[0],setNewEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),oldEmail=_useState6[0],setOldEmail=_useState6[1];var openModalEmail=function openModalEmail(){setModalEmail(true);};var afterOpenModal=function afterOpenModal(){// references are now sync'd and can be accessed.\nsubtitle.style.color='#f00';};var closeModalEmail=function closeModalEmail(){setModalEmail(false);};var onClickFetchEmail=function onClickFetchEmail(){fetch(\"https://ancient-forest-08678.herokuapp.com/modify/email\",{//fetch will automatically use GET method, but we want PUT\nmethod:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({newEmail:newEmail,oldEmail:oldEmail})}).then(function(response){return response.json();}).then(function(modifiedElement){window.location.reload(true);}).catch(function(error){return console.log(error);});};var emailInfoLayout;if(window.screen.width>970){emailInfoLayout=/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl fw5\",children:\"Current Email:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl\",children:user.email})}),/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-100 grow f4 link ph3 pv2 dib white bg-dark-blue\",onClick:openModalEmail,children:\"Change Email\"})})]});}else{emailInfoLayout=/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-around\",children:/*#__PURE__*/_jsxs(\"div\",{className:\" w-100 pa3 mr2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl fw5\",children:\"Current Email:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl\",children:user.email}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 grow f4 link ph3 pv2 dib white bg-dark-blue\",onClick:openModalEmail,children:\"Change Email\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"email  w-100 pa3 mr2\",children:[emailInfoLayout,/*#__PURE__*/_jsxs(Modal,{isOpen:modalEmail,onAfterOpen:afterOpenModal,onRequestClose:closeModalEmail,style:customStyles,contentLabel:\"Email\",children:[/*#__PURE__*/_jsx(\"h2\",{ref:function ref(_subtitle){return subtitle=_subtitle;}}),/*#__PURE__*/_jsx(\"main\",{className:\"pa4 black-80\",children:/*#__PURE__*/_jsx(\"form\",{className:\"measure center\",children:/*#__PURE__*/_jsxs(\"fieldset\",{id:\"email\",className:\"ba b--transparent ph0 mh0\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"f4 fw6 ph0 mh0\",children:\"Change Email\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\",children:\"New Email\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:function onChange(email){return setNewEmail(email.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mv3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\",children:\"Old Email to confirm\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",onChange:function onChange(email){return setOldEmail(email.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{className:\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\",type:\"button\",value:\"Submit\",onClick:function onClick(){return onClickFetchEmail();}})})]})})})]})]});};export default ModifyEmail;","map":{"version":3,"sources":["D:/gitProjects/smart-brain/src/components/Modify/ModifyEmail.js"],"names":["react","useState","Modal","customStyles","content","top","left","right","bottom","marginRight","transform","setAppElement","document","getElementById","ModifyEmail","user","subtitle","modalEmail","setModalEmail","newEmail","setNewEmail","oldEmail","setOldEmail","openModalEmail","afterOpenModal","style","color","closeModalEmail","onClickFetchEmail","fetch","method","headers","body","JSON","stringify","then","response","json","modifiedElement","window","location","reload","catch","error","console","log","emailInfoLayout","screen","width","email","_subtitle","target","value"],"mappings":"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","sourcesContent":["import react, {useState} from 'react';\r\nimport '../ImageLinkForm.css';\r\nimport Modal from 'react-modal' ;\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\n \r\n// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\r\nModal.setAppElement(document.getElementById('root'));\r\n\r\nconst ModifyEmail = ({user}) =>{\r\n\r\n\tvar subtitle\r\n\tconst [modalEmail, setModalEmail] = useState(false);\r\n\tconst [newEmail, setNewEmail] = useState('');\r\n\tconst [oldEmail, setOldEmail] = useState('');\r\n\r\n\tconst openModalEmail = () =>{\r\n\t\tsetModalEmail(true);\r\n\t}\r\n\tconst afterOpenModal = () => {\r\n\t\t    // references are now sync'd and can be accessed.\r\n\t\t    subtitle.style.color = '#f00';\r\n\t }\r\n\tconst closeModalEmail = () =>{\r\n\t  \t\tsetModalEmail(false);\r\n\t}\r\n\r\n\tconst onClickFetchEmail = () =>{\r\n\t\tfetch (`https://ancient-forest-08678.herokuapp.com/modify/email`, {//fetch will automatically use GET method, but we want PUT\r\n\t\t\t\tmethod : 'put',\r\n\t\t\t\theaders: {'Content-Type': 'application/json'},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tnewEmail: newEmail,\r\n\t\t\t\t\toldEmail: oldEmail\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t        .then(response => response.json())\r\n\t        .then(modifiedElement=> {\r\n\t        \twindow.location.reload(true);\r\n\t        })\r\n\t        .catch(error =>console.log(error));\r\n\t}\r\n\r\n\tlet emailInfoLayout;\r\n\r\n\tif (window.screen.width>970){\r\n\t\temailInfoLayout = (\r\n\t\t\t\t\t\t\t\t\t<div className='flex flex-wrap justify-between'>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <p className='f4 lh-copy tl fw5'>Current Email:</p>\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <p className='f4 lh-copy tl'>{user.email}</p>\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <button className='w-100 grow f4 link ph3 pv2 dib white bg-dark-blue'\r\n\t\t\t\t\t\t\t\t\t    onClick = {openModalEmail}>\r\n\t\t\t\t\t\t\t\t\t    \tChange Email\r\n\t\t\t\t\t\t\t\t\t    </button>\r\n\t\t\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t\t\t </div>\r\n\t\t\t);\r\n\t}else{\r\n\t\temailInfoLayout = (\r\n\t\t\t\t\t\t\t\t\t<div className='flex justify-around'>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-100 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t  \t<p className='f4 lh-copy tl fw5'>Current Email:</p>\r\n\t\t\t\t\t\t\t\t\t  \t<p className='f4 lh-copy tl'>{user.email}</p>\r\n\t\t\t\t\t\t\t\t\t    <button className='w-100 grow f4 link ph3 pv2 dib white bg-dark-blue'\r\n\t\t\t\t\t\t\t\t\t    onClick = {openModalEmail}>\r\n\t\t\t\t\t\t\t\t\t    \tChange Email\r\n\t\t\t\t\t\t\t\t\t    </button>\r\n\t\t\t\t\t\t\t\t\t    </div>\r\n\t\t\t\t\t\t\t\t\t </div>\r\n\r\n\t\t\t);\r\n\t}\r\n\r\n\treturn(\r\n\t\t\t<div className='email  w-100 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\t\t{emailInfoLayout}\r\n\t\t\t\t\t\t\t\t\t    <Modal\r\n\t\t\t\t\t\t\t\t\t\t\tisOpen={modalEmail}\r\n\t\t\t\t\t\t\t\t\t\t\tonAfterOpen={afterOpenModal}\t\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tonRequestClose={closeModalEmail}\t\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tstyle={customStyles}\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tcontentLabel= 'Email'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 ref={_subtitle => (subtitle = _subtitle)}></h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<main className=\"pa4 black-80\">\r\n\t\t\t\t\t\t\t\t\t\t\t  <form className=\"measure center\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <fieldset id=\"email\" className=\"ba b--transparent ph0 mh0\">\r\n\t\t\t\t\t\t\t\t\t\t\t      <legend className=\"f4 fw6 ph0 mh0\">Change Email</legend>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"mt3\">\r\n\t\t\t\t\t\t\t\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">New Email</label>\r\n\t\t\t\t\t\t\t\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t        type=\"email\" \r\n\t\t\t\t\t\t\t\t\t\t\t        name=\"email-address\"  \r\n\t\t\t\t\t\t\t\t\t\t\t        id=\"email-address\"\r\n\t\t\t\t\t\t\t\t\t\t\t        onChange={email=>setNewEmail(email.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t      </div>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"mv3\">\r\n\t\t\t\t\t\t\t\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Old Email to confirm</label>\r\n\t\t\t\t\t\t\t\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t        type=\"email\" \r\n\t\t\t\t\t\t\t\t\t\t\t        name=\"email-address\"  \r\n\t\t\t\t\t\t\t\t\t\t\t        id=\"email-address\"\r\n\t\t\t\t\t\t\t\t\t\t\t        onChange={email=>setOldEmail(email.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t      </div>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t      <input className=\"b ph3 pv2 input-reset ba b--black bg-transparent grow pointer f6 dib\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      type=\"button\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      value=\"Submit\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      onClick = {()=>onClickFetchEmail()}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t    </fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\t\t\t  </form>\r\n\t\t\t\t\t\t\t\t\t\t\t</main>\r\n\t\t\t\t\t\t\t\t\t\t </Modal>\r\n\t\t\t\t\t\t\t\t  </div>\r\n\t\t)\r\n}\r\n\r\nexport default ModifyEmail;"]},"metadata":{},"sourceType":"module"}