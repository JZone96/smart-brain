{"ast":null,"code":"import _slicedToArray from\"D:/gitProjects/smart-brain/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import react,{useState}from'react';import'../ImageLinkForm.css';import Modal from'react-modal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var customStyles={content:{top:'50%',left:'50%',right:'auto',bottom:'auto',marginRight:'-50%',transform:'translate(-50%, -50%)'}};// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\nModal.setAppElement(document.getElementById('root'));var ModifyUsername=function ModifyUsername(_ref){var user=_ref.user;var subtitle;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalIsOpen=_useState2[0],setModalIsOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),oldName=_useState6[0],setOldName=_useState6[1];var openModalUsername=function openModalUsername(){setModalIsOpen(true);};var afterOpenModal=function afterOpenModal(){// references are now sync'd and can be accessed.\nsubtitle.style.color='#f00';};var closeModalUsername=function closeModalUsername(){setModalIsOpen(false);};var onClickFetchName=function onClickFetchName(){fetch(\"https://ancient-forest-08678.herokuapp.com/modify/name\",{//fetch will automatically use GET method, but we want PUT\nmethod:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({newName:newName,oldName:oldName})}).then(function(response){return response.json();}).then(function(modifiedElement){window.location.reload(true);}).catch(function(error){return console.log(error);});};var userInfoLayout;if(window.screen.width>970){userInfoLayout=/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f3 lh-copy tl fw5\",children:\"Current Username:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl\",children:user.name})}),/*#__PURE__*/_jsx(\"div\",{className:\" w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-100 grow f4 link ph3 pv2 dib white bg-dark-blue\",onClick:openModalUsername,children:\"Change Username\"})})]});}else{userInfoLayout=/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-column flex-wrap w-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl fw5\",children:\"Current Username:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-25 pa3 mr2\",children:/*#__PURE__*/_jsx(\"p\",{className:\"f4 lh-copy tl\",children:user.name})}),/*#__PURE__*/_jsx(\"button\",{className:\"w-100 grow f4 link ph3 pv2 dib white bg-dark-blue\",onClick:openModalUsername,children:\"Change Username\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user  w-100 pa3 mr2\",children:[userInfoLayout,/*#__PURE__*/_jsxs(Modal,{isOpen:modalIsOpen,onAfterOpen:afterOpenModal,onRequestClose:closeModalUsername,style:customStyles,contentLabel:\"Username\",children:[/*#__PURE__*/_jsx(\"h2\",{ref:function ref(_subtitle){return subtitle=_subtitle;}}),/*#__PURE__*/_jsx(\"main\",{className:\"pa4 black-80\",children:/*#__PURE__*/_jsx(\"form\",{className:\"measure center\",children:/*#__PURE__*/_jsxs(\"fieldset\",{id:\"Username\",className:\"ba b--transparent ph0 mh0\",children:[/*#__PURE__*/_jsx(\"legend\",{className:\"f4 fw6 ph0 mh0\",children:\"Change Username\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\",children:\"New Username\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"newUser\",name:\"newUser\",id:\"newUser\",onChange:function onChange(username){return setNewName(username.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mv3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\",children:\"Old Username to confirm\"}),/*#__PURE__*/_jsx(\"input\",{className:\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\",type:\"oldUser\",name:\"oldUser\",id:\"oldUser\",onChange:function onChange(username){return setOldName(username.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"input\",{className:\"b ph3 pv2 ba b--black bg-transparent grow pointer f6 dib\",type:\"button\",value:\"Submit\",onClick:function onClick(){return onClickFetchName();}})})]})})})]})]});};export default ModifyUsername;","map":{"version":3,"sources":["D:/gitProjects/smart-brain/src/components/Modify/ModifyUsername.js"],"names":["react","useState","Modal","customStyles","content","top","left","right","bottom","marginRight","transform","setAppElement","document","getElementById","ModifyUsername","user","subtitle","modalIsOpen","setModalIsOpen","newName","setNewName","oldName","setOldName","openModalUsername","afterOpenModal","style","color","closeModalUsername","onClickFetchName","fetch","method","headers","body","JSON","stringify","then","response","json","modifiedElement","window","location","reload","catch","error","console","log","userInfoLayout","screen","width","name","_subtitle","username","target","value"],"mappings":"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","sourcesContent":["import react, {useState} from 'react';\r\nimport '../ImageLinkForm.css';\r\nimport Modal from 'react-modal' ;\r\n\r\nconst customStyles = {\r\n  content : {\r\n    top                   : '50%',\r\n    left                  : '50%',\r\n    right                 : 'auto',\r\n    bottom                : 'auto',\r\n    marginRight           : '-50%',\r\n    transform             : 'translate(-50%, -50%)'\r\n  }\r\n};\r\n \r\n// Make sure to bind modal to your appElement (http://reactcommunity.org/react-modal/accessibility/)\r\nModal.setAppElement(document.getElementById('root'));\r\n\r\nconst ModifyUsername = ({user}) =>{\r\n\tvar subtitle;\r\n\tconst [modalIsOpen, setModalIsOpen] = useState(false);\r\n\tconst [newName, setNewName] = useState('');\r\n\tconst [oldName, setOldName] = useState('');\r\n\r\n\tconst openModalUsername = () =>{\r\n\t\tsetModalIsOpen(true);\r\n\t}\r\n\tconst afterOpenModal = () => {\r\n\t    // references are now sync'd and can be accessed.\r\n\t    subtitle.style.color = '#f00';\r\n  \t}\r\n\tconst closeModalUsername = () =>{\r\n  \t\tsetModalIsOpen(false);\r\n  \t}\r\n\r\n  \tconst onClickFetchName = () =>{\r\n  \t\tfetch (`https://ancient-forest-08678.herokuapp.com/modify/name`, {//fetch will automatically use GET method, but we want PUT\r\n\t\t\t\tmethod : 'put',\r\n\t\t\t\theaders: {'Content-Type': 'application/json'},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\tnewName: newName,\r\n\t\t\t\t\toldName: oldName\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t        .then(response => response.json())\r\n\t        .then(modifiedElement=> {\r\n\t        \twindow.location.reload(true);\r\n\t        })\r\n\t        .catch(error =>console.log(error));\r\n  \t}\r\n\r\n  \tlet userInfoLayout;\r\n\r\n  \tif (window.screen.width>970){\r\n  \t\tuserInfoLayout = (\t\t<div className='flex flex-wrap justify-between'>\r\n  \t\t\t\t\t\t\t\t\t<div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <p className='f3 lh-copy tl fw5'>Current Username:</p>\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <p className='f4 lh-copy tl'>{user.name}</p>\r\n\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t  <div className=' w-25 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t\t    <button className='w-100 grow f4 link ph3 pv2 dib white bg-dark-blue'\r\n\t\t\t\t\t\t\t\t\t    onClick = {openModalUsername}>\r\n\t\t\t\t\t\t\t\t\t    \tChange Username\r\n\t\t\t\t\t\t\t\t\t    </button>\r\n\t\t\t\t\t\t\t\t\t   </div>\r\n\t\t\t\t\t\t\t\t</div>);\r\n  \t}else{\r\n  \t\tuserInfoLayout = (\t\t<div className='flex flex-column flex-wrap w-100'>\r\n  \t\t\t\t\t\t\t\t\t<div className=\"w-25 pa3 mr2\">\r\n  \t\t\t\t\t\t\t\t\t\t<p className='f4 lh-copy tl fw5'>Current Username:</p>\r\n  \t\t\t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t\t\t<div className=\"w-25 pa3 mr2\">\r\n  \t\t\t\t\t\t\t\t\t\t<p className='f4 lh-copy tl'>{user.name}</p>\r\n  \t\t\t\t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t\t\t\t\r\n  \t\t\t\t\t\t\t\t\t\t<button className='w-100 grow f4 link ph3 pv2 dib white bg-dark-blue'\r\n\t\t\t\t\t\t\t\t\t    onClick = {openModalUsername}>\r\n\t\t\t\t\t\t\t\t\t    \tChange Username\r\n\t\t\t\t\t\t\t\t\t    </button>\r\n  \t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t</div>);\r\n\r\n  \t}\r\n\r\n  \treturn (\r\n\r\n  \t\t\t<div className='user  w-100 pa3 mr2'>\r\n\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\t  {userInfoLayout}\r\n\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\t    <Modal\r\n\t\t\t\t\t\t\t\t\t\t\tisOpen={modalIsOpen}\r\n\t\t\t\t\t\t\t\t\t\t\tonAfterOpen={afterOpenModal}\t\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tonRequestClose={closeModalUsername}\t\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tstyle={customStyles}\t\t          \r\n\t\t\t\t\t\t\t\t\t\t\tcontentLabel= 'Username'>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 ref={_subtitle => (subtitle = _subtitle)}></h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<main className=\"pa4 black-80\">\r\n\t\t\t\t\t\t\t\t\t\t\t  <form className=\"measure center\">\r\n\t\t\t\t\t\t\t\t\t\t\t    <fieldset id=\"Username\" className=\"ba b--transparent ph0 mh0\">\r\n\t\t\t\t\t\t\t\t\t\t\t      <legend className=\"f4 fw6 ph0 mh0\">Change Username</legend>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"mt3\">\r\n\t\t\t\t\t\t\t\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">New Username</label>\r\n\t\t\t\t\t\t\t\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t        type=\"newUser\" \r\n\t\t\t\t\t\t\t\t\t\t\t        name=\"newUser\"  \r\n\t\t\t\t\t\t\t\t\t\t\t        id=\"newUser\" \r\n\t\t\t\t\t\t\t\t\t\t\t        onChange = {username => setNewName(username.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t      </div>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"mv3\">\r\n\t\t\t\t\t\t\t\t\t\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Old Username to confirm</label>\r\n\t\t\t\t\t\t\t\t\t\t\t        <input className=\"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t        type=\"oldUser\" \r\n\t\t\t\t\t\t\t\t\t\t\t        name=\"oldUser\"  \r\n\t\t\t\t\t\t\t\t\t\t\t        id=\"oldUser\"\r\n\t\t\t\t\t\t\t\t\t\t\t        onChange = {username => setOldName(username.target.value)}/>\r\n\t\t\t\t\t\t\t\t\t\t\t      </div>\r\n\t\t\t\t\t\t\t\t\t\t\t      <div className=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t      <input className=\"b ph3 pv2 ba b--black bg-transparent grow pointer f6 dib\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      type=\"button\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      value=\"Submit\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t      onClick = {()=>onClickFetchName()}/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t\t\t\t\t    </fieldset>\r\n\t\t\t\t\t\t\t\t\t\t\t    \r\n\t\t\t\t\t\t\t\t\t\t\t  </form>\r\n\t\t\t\t\t\t\t\t\t\t\t</main>\r\n\t\t\t\t\t\t\t\t\t\t </Modal>\r\n\r\n\r\n \r\n\t\t\t\t\t\t\t\t\t  \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t  </div>\r\n  \t\t)\r\n}\r\n\r\nexport default ModifyUsername;"]},"metadata":{},"sourceType":"module"}